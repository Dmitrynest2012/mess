<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∏—Ä–∏–Ω–≥–æ–≤—ã–π —á–∞—Ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
</head>
<body>
    <div class="container">
        <div id="loginForm" class="login-form">
            <h2>–í—Ö–æ–¥ –≤ —á–∞—Ç</h2>
            <input id="nameInput" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
            <input id="loginInput" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ª–æ–≥–∏–Ω (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)">
            <input id="avatarInput" type="text" placeholder="URL –∞–≤–∞—Ç–∞—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)">
            <button class="btn" onclick="login()">–í–æ–π—Ç–∏</button>
        </div>
        <div id="profile" class="profile" style="display: none;">
            <div class="avatar" id="avatar"></div>
            <div class="profile-info">
                <span id="username">–ì–æ—Å—Ç—å</span>
                <span id="userLogin"></span>
            </div>
            <div class="profile-actions">
                <button class="copy-btn" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω –∏ ID" onclick="copyUserLogin()">üìã</button>
                <button class="logout-btn" title="–í—ã–π—Ç–∏" onclick="logout()">üö™</button>
                <button class="edit-btn" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å" onclick="openProfileEdit()">üñåÔ∏è</button>
            </div>
        </div>
        <div id="profileEditModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h2>
                <input id="editNameInput" type="text" placeholder="–ù–æ–≤–æ–µ –∏–º—è">
                <input id="editAvatarInput" type="text" placeholder="–ù–æ–≤—ã–π URL –∞–≤–∞—Ç–∞—Ä–∞">
                <button class="btn" onclick="updateProfileInfo()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn cancel-btn" onclick="closeProfileEdit()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
        <div id="createGroupModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</h2>
                <input id="groupNameInput" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã">
                <button class="btn" onclick="createGroup()">–°–æ–∑–¥–∞—Ç—å</button>
                <button class="btn cancel-btn" onclick="closeCreateGroupModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
        <div id="groupMembersModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø—ã</h2>
                <div id="groupMembersList"></div>
                <button class="btn cancel-btn" onclick="closeGroupMembersModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
        <div id="friendsPanel" class="friends-panel" style="display: none;">
            <h2>–î—Ä—É–∑—å—è</h2>
            <button class="btn" onclick="addFriend()">–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞</button>
            <button class="btn" onclick="openCreateGroupModal()">–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</button>
            <div id="friendsList" class="friends-list"></div>
        </div>
        <div id="chatSection" class="chat-section chat-inactive" style="display: none;">
            <div id="chatTitleContainer">
                <h2 id="chatTitle">–ù–∞—á–∞—Ç—å —á–∞—Ç</h2>
                <button id="editGroupNameBtn" class="btn edit-btn" style="display: none;">üñåÔ∏è</button>
                <input id="groupNameEditInput" type="text" style="display: none;">
                <button id="saveGroupNameBtn" class="btn save-btn" style="display: none;">üíæ</button>
                <button id="deleteGroupBtn" class="btn delete-btn" style="display: none;">üóëÔ∏è</button>
            </div>
            <div id="groupParticipants" class="group-participants" style="display: none;"></div>
            <div id="groupMemberInputContainer" style="display: none;">
                <input id="groupMemberInput" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ @login:PeerID">
                <button class="btn" onclick="addGroupMember()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <input id="friendLogin" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ @login –¥—Ä—É–≥–∞">
            <button id="startChatBtn" class="btn" onclick="startChat()" disabled>–ù–∞—á–∞—Ç—å —á–∞—Ç</button>
            <div id="chatBox" class="chat-box"></div>
            <div class="chat-input">
                <textarea id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
                <div class="chat-buttons">
                    <button class="btn send-btn" onclick="sendMessage()">‚û°Ô∏è</button>
                    <button class="btn emoji-btn" onclick="toggleEmojiPicker()">üòä</button>
                </div>
            </div>
        </div>
        <audio id="notificationSound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
    </div>
    <script src="script.js"></script>
</body>
</html>